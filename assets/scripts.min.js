/*!
 * Adminer Bootstrap-Like Design
 *
 * @author  Natan Felles, https://natanfelles.github.io <natanfelles@gmail.com>
 * @link    https://github.com/natanfelles/adminer-bootstrap-like
 * @link    https://www.adminer.org/plugins/#use
 * @license https://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0
 * @license https://www.gnu.org/licenses/gpl-2.0.html GNU General Public License, version 2 (one or other)
 */
!function(window){window.addEventListener("load",(function(){adminerDesign.init()}),!1);var adminerDesign={init:function(){adminerDesign.h1=document.querySelector("#menu h1"),adminerDesign.logins=document.getElementById("logins"),adminerDesign.dbs=document.getElementById("dbs"),adminerDesign.links=document.querySelector("#menu .links"),adminerDesign.tables=document.getElementById("tables"),adminerDesign.menuMessage=document.querySelector("#menu .message"),adminerDesign.breadcrumb=document.getElementById("breadcrumb"),adminerDesign.lang=document.getElementById("lang"),adminerDesign.logout=document.getElementById("logout"),adminerDesign.content=document.getElementById("content"),adminerDesign.pages=document.getElementsByClassName("pages")[0],adminerDesign.menu=document.getElementById("menu"),adminerDesign.setPositions(),adminerDesign.setTables(),adminerDesign.setSensor(),adminerDesign.setScroller(),document.querySelectorAll("pre.sqlarea").forEach(item=>{console.log(item),item.addEventListener("keydown",(function(e){if(9===e.keyCode)return document.execCommand("insertText",!1,"\t"),e.preventDefault(),!1}))})},setScroller:function(){var scroller=document.getElementById("scroller"),links=scroller.querySelectorAll("a");function display(){window.innerHeight<window.innerHeight+document.documentElement.scrollTop?scroller.style.display="block":scroller.style.display="none"}display(),window.addEventListener("scroll",display),links[0].addEventListener("click",(function(e){e.preventDefault(),window.scroll(0,0),document.body.scrollTop=0})),links[1].addEventListener("click",(function(e){e.preventDefault(),window.scroll(0,document.body.scrollHeight)}))},setPositions:function(){var is_rtl=!1;document.body.classList.contains("rtl")&&(is_rtl=!0),adminerDesign.logins&&(adminerDesign.logins.style.top=adminerDesign.h1.offsetHeight-1+"px"),adminerDesign.dbs&&(adminerDesign.dbs.style.top=adminerDesign.h1.offsetHeight+"px"),adminerDesign.links&&(adminerDesign.links.style.top=adminerDesign.h1.offsetHeight+adminerDesign.dbs.offsetHeight+"px"),adminerDesign.tables&&(adminerDesign.tables.style.top=adminerDesign.h1.offsetHeight+adminerDesign.dbs.offsetHeight+adminerDesign.links.offsetHeight-1+"px"),adminerDesign.menuMessage&&(adminerDesign.menuMessage.style.top=adminerDesign.h1.offsetHeight+adminerDesign.dbs.offsetHeight+adminerDesign.links.offsetHeight+"px"),adminerDesign.lang&&adminerDesign.logout&&(is_rtl?adminerDesign.lang.style.left=adminerDesign.logout.offsetWidth+8+"px":adminerDesign.lang.style.right=adminerDesign.logout.offsetWidth+8+"px"),adminerDesign.content.style.minHeight=window.innerHeight-window.getComputedStyle(adminerDesign.content,null).getPropertyValue("padding-top").replace("px","")-window.getComputedStyle(adminerDesign.content,null).getPropertyValue("padding-bottom").replace("px","")-window.getComputedStyle(adminerDesign.content,null).getPropertyValue("margin-top").replace("px","")-window.getComputedStyle(adminerDesign.content,null).getPropertyValue("margin-bottom").replace("px","")+"px"},setTables:function(){if(adminerDesign.tables){adminerDesign.tables.style.height=window.innerHeight-adminerDesign.tables.offsetTop+"px";for(var a=document.querySelectorAll("#tables li a"),i=0;i<a.length;i++)a[i].classList.contains("structure")&&(a[i].title=a[i].title+" - "+a[i].innerHTML,a[i].parentNode.addEventListener("click",(function(){window.location=this.children[1].href})),a[i].offsetWidth>200&&(a[i].innerHTML=a[i].innerHTML.substring(0,28)+"...")),a[i].classList.contains("active")&&(a[i].parentNode.classList+="active");var active=document.querySelector("#tables .active");active&&(adminerDesign.tables.scrollTop=active.offsetTop)}},setSensor:function(){var div=document.createElement("div");div.setAttribute("id","sensor"),document.body.appendChild(div);var sensor=document.getElementById("sensor"),is_rtl=!1;function toggleMenu(state){var menu=document.getElementById("menu"),content=document.getElementById("content"),breadcrumb=document.getElementById("breadcrumb"),pages=document.querySelector(".footer p");"closed"===state?(menu.style.display="none",is_rtl?content.style.marginRight=0:content.style.marginLeft=0,breadcrumb&&(is_rtl?breadcrumb.style.paddingRight="40px":breadcrumb.style.paddingLeft="40px"),pages&&(is_rtl?pages.style.right=0:pages.style.left=0),localStorage.setItem("menu","closed")):(menu.style.display="block",is_rtl?content.style.marginRight="266px":content.style.marginLeft="266px",breadcrumb&&(is_rtl?breadcrumb.style.paddingRight="306px":breadcrumb.style.paddingLeft="306px"),pages&&(is_rtl?pages.style.right="266px":pages.style.left="266px"),localStorage.setItem("menu","open"))}document.body.classList.contains("rtl")&&(is_rtl=!0),toggleMenu(localStorage.getItem("menu")),sensor.addEventListener("click",(function(){var state;toggleMenu("open"===localStorage.getItem("menu")?"closed":"open")}))}}}(window);